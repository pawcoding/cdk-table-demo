<div class="flex gap-1 items-center">
  <button
    ngToolbarWidget
    id="previousPage"
    value="previousPage"
    [disabled]="pageIndex() === 0"
    (click)="goToPage(-1)"
    (keydown.enter)="goToPage(-1)"
    (keydown.space)="goToPage(-1)"
    class="hover:not-disabled:bg-neutral-200 cursor-pointer rounded-sm flex items-center justify-center size-10"
  >
    <ng-icon [svg]="ICONS.previous" size="1.5rem" />
  </button>

  <b class="flex items-center justify-center size-10">
    {{ pageIndex() + 1 }}
  </b>

  <button
    ngToolbarWidget
    id="nextPage"
    value="nextPage"
    [disabled]="pageIndex() === maxIndex() - 1"
    (click)="goToPage(1)"
    (keydown.enter)="goToPage(1)"
    (keydown.space)="goToPage(1)"
    class="hover:not-disabled:bg-neutral-200 cursor-pointer rounded-sm flex items-center justify-center size-10"
  >
    <ng-icon [svg]="ICONS.next" size="1.5rem" />
  </button>
</div>

<div role="separator" class="w-px h-10 bg-neutral-200"></div>

<div>
  <button
    ngToolbarWidget
    ngMenuTrigger
    #pageOrigin
    #pageTrigger="ngMenuTrigger"
    [menu]="pageMenu()"
    value="pageSize"
    id="pageSize"
    class="p-2 hover:bg-neutral-200 cursor-pointer rounded-sm"
  >
    <b>
      {{ pageSize() }}
    </b>
    per page
  </button>

  <ng-template
    [cdkConnectedOverlayOpen]="pageTrigger.expanded()"
    [cdkConnectedOverlay]="{ origin: pageOrigin, usePopover: 'inline' }"
    [cdkConnectedOverlayPositions]="[
      {
        originX: 'start',
        originY: 'top',
        overlayX: 'start',
        overlayY: 'bottom',
        offsetY: -8,
        offsetX: -4,
      },
    ]"
    cdkAttachPopoverAsChild
  >
    <div
      ngMenu
      #pageMenu="ngMenu"
      class="flex flex-col p-2 bg-neutral-100 border border-neutral-200 rounded-md shadow-md"
    >
      <ng-template ngMenuContent>
        @for (numItems of PAGE_SIZES; track numItems) {
          <button
            ngMenuItem
            [value]="numItems"
            [disabled]="pageSize() === numItems"
            (click)="setPageSize(numItems)"
            (keydown.enter)="setPageSize(numItems)"
            (keydown.space)="setPageSize(numItems)"
            class="p-2 hover:bg-neutral-200 cursor-pointer rounded-sm text-left"
          >
            <b>
              {{ numItems }}
            </b>
            per page
          </button>
        }
      </ng-template>
    </div>
  </ng-template>
</div>
